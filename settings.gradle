rootProject.name = 'CuckooLib'

Properties properties = new Properties()
String includeBuildPropKey = 'CuckooGradleIncludeBuildPath'
File propFile = new File(rootProject.projectDir.getPath() + File.separator + 'gradle.properties')
if (propFile.exists()) {
    properties.load(new StringReader(propFile.text))
}

if (properties.containsKey(includeBuildPropKey)) {
    includeBuild(properties.getProperty(includeBuildPropKey))
}

def isCiServer = System.getenv().containsKey("CI")
// Cache build artifacts, so expensive operations do not need to be re-computed
buildCache {
    local {
        enabled = !isCiServer || System.getenv().containsKey("GITHUB_ACTIONS")
    }
}